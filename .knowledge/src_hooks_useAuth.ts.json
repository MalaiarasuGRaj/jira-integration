{"is_source_file": true, "format": "TypeScript", "description": "This source file defines a React hook 'useAuth' that manages authentication state for Jira API integration. It handles loading credentials from session storage, validating credentials, attempting login via 'jiraApi', handling errors with detailed debug info, and providing logout and error clearing functions.", "external_files": ["../types/jira", "../services/jiraApi", "../utils/authDebugger"], "external_methods": ["jiraApi.verifyCredentials", "AuthDebugger.validateCredentials", "AuthDebugger.generateDebugInfo"], "published": ["useAuth"], "classes": [], "methods": [{"name": "export function useAuth() { useAuth", "description": "React hook to manage Jira authentication state, including login, logout, and error handling.", "scope": "", "scopeKind": ""}], "calls": ["sessionStorage.getItem", "JSON.parse", "setAuthState", "sessionStorage.removeItem", "sessionStorage.setItem", "console.error", "jiraApi.verifyCredentials", "AuthDebugger.validateCredentials", "AuthDebugger.generateDebugInfo"], "search-terms": ["useAuth", "JiraCredentials", "authState management", "session storage Jira credentials", "verifyCredentials", "React hook authentication"], "state": 2, "file_id": 47, "knowledge_revision": 165, "git_revision": "387d01ee9c05e5301262c39bcd21a9ffd7995267", "revision_history": [{"116": "a0e332cee6107e6489d13efc1352f13c3a7ba065"}, {"147": "a0e332cee6107e6489d13efc1352f13c3a7ba065"}, {"153": "a0e332cee6107e6489d13efc1352f13c3a7ba065"}, {"154": "a0e332cee6107e6489d13efc1352f13c3a7ba065"}, {"165": "387d01ee9c05e5301262c39bcd21a9ffd7995267"}], "ctags": [{"_type": "tag", "name": "STORAGE_KEY", "path": "/home/kavia/workspace/cm484c6cc9/jira-integration/src/hooks/useAuth.ts", "pattern": "/^const STORAGE_KEY = 'jira_credentials';$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "authState", "path": "/home/kavia/workspace/cm484c6cc9/jira-integration/src/hooks/useAuth.ts", "pattern": "/^  const [authState, setAuthState] = useState<AuthState>({$/", "language": "TypeScript", "kind": "constant", "scope": "useAuth", "scopeKind": "function"}, {"_type": "tag", "name": "cleanedCredentials", "path": "/home/kavia/workspace/cm484c6cc9/jira-integration/src/hooks/useAuth.ts", "pattern": "/^      const cleanedCredentials = validation.cleanedCredentials;$/", "language": "TypeScript", "kind": "constant", "scope": "useAuth", "scopeKind": "function"}, {"_type": "tag", "name": "clearError", "path": "/home/kavia/workspace/cm484c6cc9/jira-integration/src/hooks/useAuth.ts", "pattern": "/^  const clearError = () => {$/", "language": "TypeScript", "kind": "constant", "scope": "useAuth", "scopeKind": "function"}, {"_type": "tag", "name": "credentials", "path": "/home/kavia/workspace/cm484c6cc9/jira-integration/src/hooks/useAuth.ts", "pattern": "/^        const credentials = JSON.parse(storedCredentials);$/", "language": "TypeScript", "kind": "constant", "scope": "useAuth", "scopeKind": "function"}, {"_type": "tag", "name": "debugInfo", "path": "/home/kavia/workspace/cm484c6cc9/jira-integration/src/hooks/useAuth.ts", "pattern": "/^        const debugInfo = AuthDebugger.generateDebugInfo(credentials, error);$/", "language": "TypeScript", "kind": "constant", "scope": "useAuth", "scopeKind": "function"}, {"_type": "tag", "name": "errorMessage", "path": "/home/kavia/workspace/cm484c6cc9/jira-integration/src/hooks/useAuth.ts", "pattern": "/^        const errorMessage = `Invalid credential format:\\\\n${validation.errors.join('\\\\n')}`;$/", "language": "TypeScript", "kind": "constant", "scope": "useAuth", "scopeKind": "function"}, {"_type": "tag", "name": "isValid", "path": "/home/kavia/workspace/cm484c6cc9/jira-integration/src/hooks/useAuth.ts", "pattern": "/^      const isValid = await jiraApi.verifyCredentials(cleanedCredentials);$/", "language": "TypeScript", "kind": "constant", "scope": "useAuth", "scopeKind": "function"}, {"_type": "tag", "name": "login", "path": "/home/kavia/workspace/cm484c6cc9/jira-integration/src/hooks/useAuth.ts", "pattern": "/^  const login = async (credentials: JiraCredentials): Promise<boolean> => {$/", "language": "TypeScript", "kind": "constant", "scope": "useAuth", "scopeKind": "function"}, {"_type": "tag", "name": "logout", "path": "/home/kavia/workspace/cm484c6cc9/jira-integration/src/hooks/useAuth.ts", "pattern": "/^  const logout = () => {$/", "language": "TypeScript", "kind": "constant", "scope": "useAuth", "scopeKind": "function"}, {"_type": "tag", "name": "setAuthState", "path": "/home/kavia/workspace/cm484c6cc9/jira-integration/src/hooks/useAuth.ts", "pattern": "/^  const [authState, setAuthState] = useState<AuthState>({$/", "language": "TypeScript", "kind": "constant", "scope": "useAuth", "scopeKind": "function"}, {"_type": "tag", "name": "storedCredentials", "path": "/home/kavia/workspace/cm484c6cc9/jira-integration/src/hooks/useAuth.ts", "pattern": "/^    const storedCredentials = sessionStorage.getItem(STORAGE_KEY);$/", "language": "TypeScript", "kind": "constant", "scope": "useAuth", "scopeKind": "function"}, {"_type": "tag", "name": "useAuth", "path": "/home/kavia/workspace/cm484c6cc9/jira-integration/src/hooks/useAuth.ts", "pattern": "/^export function useAuth() {$/", "language": "TypeScript", "kind": "function"}, {"_type": "tag", "name": "validation", "path": "/home/kavia/workspace/cm484c6cc9/jira-integration/src/hooks/useAuth.ts", "pattern": "/^      const validation = AuthDebugger.validateCredentials(credentials);$/", "language": "TypeScript", "kind": "constant", "scope": "useAuth", "scopeKind": "function"}], "hash": "908cad8da7f94fb1d0d524a3ab6d886d", "format-version": 4, "code-base-name": "frontend", "filename": "src/hooks/useAuth.ts"}